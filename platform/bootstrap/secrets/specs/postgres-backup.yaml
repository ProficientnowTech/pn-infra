apiVersion: platform.pnats.cloud/v1alpha1
kind: SecretSpec
metadata:
  name: postgres-backup-credentials
spec:
  namespace: postgres-operator
  type: Opaque
  optional: true  # Optional service - skip if backup not configured
  vault:
    path: applications/storage/postgres-backup
  data:
    AWS_ACCESS_KEY_ID:
      env: POSTGRES_BACKUP_AWS_ACCESS_KEY_ID
      cache: false
      optional: true
    AWS_SECRET_ACCESS_KEY:
      env: POSTGRES_BACKUP_AWS_SECRET_ACCESS_KEY
      cache: false
      optional: true
    AWS_REGION:
      env: POSTGRES_BACKUP_AWS_REGION
      cache: false
      optional: true
    AWS_S3_BUCKET:
      env: POSTGRES_BACKUP_S3_BUCKET
      cache: false
      optional: true
    AWS_KMS_KEY_ID:
      env: POSTGRES_BACKUP_KMS_KEY_ID
      cache: false
      optional: true
    AWS_KMS_SIGNING_KEY_ID:
      env: POSTGRES_BACKUP_KMS_SIGNING_KEY_ID
      cache: false
      optional: true
