argocdNamespace: argocd
# Stack identification
stackName: security
# Default repository configuration
default:
  repoURL: https://github.com/pnow-devsupreme/pn-infra.git
  targetRevision: v2
# Global configuration for all applications
global:
  # ArgoCD project
  project: security
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
    syncOptions:
    - 'CreateNamespace=true'
    - 'RespectIgnoreDifferences=true'
  # Retry configuration
  retry:
    limit: 3
    backoff:
      duration: '5s'
      factor: 2
      maxDuration: '3m'
# Common labels applied to all ArgoCD Application resources
# These are merged with app-specific labels (app-specific takes precedence)
commonLabels:
  app.kubernetes.io/managed-by: 'platform-core'
  app.kubernetes.io/part-of: 'platform'
  platform.pnats.cloud/stack: security
  platform.pnats.cloud/layer: security
commonAnnotations:
  platform.pnats.cloud/managed-by: 'platform-core'
  platform.pnats.cloud/generated-by: 'platform-core-chart'
  platform.pnats.cloud/deploys: '["crossplane","external-secrets","keycloak","vault","kyverno","falco","falco-talon"]'
  platform.pnats.cloud/dependencies: '["ingress-nginx","cert-manager","external-dns","metallb","sealed-secrets","zalando-postgres","ceph-cluster"]'
# Applications list - override in values-{environment}.yaml
applications: []
dependencies: []
dependencyCheck:
  enabled: true
  pollIntervalSeconds: 10
  image: bitnamilegacy/kubectl:1.30.3

# Default per-app values (used if env-specific files omit overrides)
applicationDefaults:
  crossplane:
    providerSecretRefs:
      items:
      - enabled: false
        name: provider-kafka-credentials
        namespace: crossplane-system
        vaultPath: applications/security/crossplane/providers/kafka
        property: credentials
      - enabled: false
        name: provider-temporal-credentials
        namespace: crossplane-system
        vaultPath: applications/security/crossplane/providers/temporal
        property: credentials
      - enabled: false
        name: provider-grafana-credentials
        namespace: crossplane-system
        vaultPath: applications/security/crossplane/providers/grafana
        property: credentials
      - enabled: false
        name: provider-harbor-credentials
        namespace: crossplane-system
        vaultPath: applications/security/crossplane/providers/harbor
        property: credentials
      - enabled: false
        name: provider-ovh-credentials
        namespace: crossplane-system
        vaultPath: applications/security/crossplane/providers/ovh
        property: credentials
      - enabled: false
        name: provider-postgresql-credentials
        namespace: crossplane-system
        vaultPath: applications/security/crossplane/providers/postgresql
        property: credentials
      - enabled: false
        name: provider-proxmox-bpg-credentials
        namespace: crossplane-system
        vaultPath: applications/security/crossplane/providers/proxmox-bpg
        property: credentials
