{{/*
ExternalSecret Examples
These demonstrate how applications can sync secrets from Vault using ESO
*/}}
---
# Example: Sync database credentials from Vault
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: database-credentials
#   namespace: my-app
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: vault-backend
#     kind: ClusterSecretStore
#   target:
#     name: database-secret
#     creationPolicy: Owner
#   dataFrom:
#   - extract:
#       key: database/my-app  # Path in Vault: secret/data/database/my-app

---
# Example: Sync specific keys from Vault
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: api-keys
#   namespace: my-app
# spec:
#   refreshInterval: 15m
#   secretStoreRef:
#     name: vault-backend
#     kind: ClusterSecretStore
#   target:
#     name: api-secret
#     creationPolicy: Owner
#   data:
#   - secretKey: API_KEY
#     remoteRef:
#       key: api/service-x
#       property: key
#   - secretKey: API_SECRET
#     remoteRef:
#       key: api/service-x
#       property: secret

---
# Example: Sync OAuth credentials for Keycloak client
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: oidc-client
#   namespace: my-app
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: vault-backend
#     kind: ClusterSecretStore
#   target:
#     name: oidc-client-secret
#     creationPolicy: Owner
#     template:
#       engineVersion: v2
#       data:
#         client-id: "{{ .clientId }}"
#         client-secret: "{{ .clientSecret }}"
#         issuer-url: "https://keycloak.pnats.cloud/realms/proficientnow"
#   data:
#   - secretKey: clientId
#     remoteRef:
#       key: keycloak/clients/my-app
#       property: client-id
#   - secretKey: clientSecret
#     remoteRef:
#       key: keycloak/clients/my-app
#       property: client-secret
