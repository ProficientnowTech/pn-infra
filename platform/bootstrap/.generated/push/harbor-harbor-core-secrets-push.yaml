apiVersion: external-secrets.io/v1alpha1
kind: PushSecret
metadata:
  name: harbor-core-secrets-push
  namespace: harbor
spec:
  refreshInterval: 1h
  secretStoreRefs:
    - name: vault-backend
      kind: ClusterSecretStore
  selector:
    secret:
      name: harbor-core-secrets
  data:
    - match:
        secretKey: REGISTRY_HTPASSWD
        remoteRef:
          remoteKey: applications/developer-platform/harbor/core
          property: REGISTRY_HTPASSWD
    - match:
        secretKey: REGISTRY_PASSWD
        remoteRef:
          remoteKey: applications/developer-platform/harbor/core
          property: REGISTRY_PASSWD
    - match:
        secretKey: admin-password
        remoteRef:
          remoteKey: applications/developer-platform/harbor/core
          property: admin-password
    - match:
        secretKey: database-password
        remoteRef:
          remoteKey: applications/developer-platform/harbor/core
          property: database-password
    - match:
        secretKey: jobservice-secret
        remoteRef:
          remoteKey: applications/developer-platform/harbor/core
          property: jobservice-secret
    - match:
        secretKey: registry-http-secret
        remoteRef:
          remoteKey: applications/developer-platform/harbor/core
          property: registry-http-secret
    - match:
        secretKey: secret
        remoteRef:
          remoteKey: applications/developer-platform/harbor/core
          property: secret
    - match:
        secretKey: secretKey
        remoteRef:
          remoteKey: applications/developer-platform/harbor/core
          property: secretKey
