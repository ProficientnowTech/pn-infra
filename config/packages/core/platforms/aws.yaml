# AWS Platform Configuration
# Non-sensitive AWS-specific settings
# Secrets (access_key, secret_key) come from infrastructure/environments/<env>.yaml

aws:
  # Region configuration
  region: us-east-1           # Default AWS region
  availability_zones:
    - us-east-1a
    - us-east-1b
    - us-east-1c

  # VPC configuration
  vpc:
    cidr_block: 10.0.0.0/16
    enable_dns_hostnames: true
    enable_dns_support: true

  # Subnet configuration
  subnets:
    - name: public-subnet-1
      cidr_block: 10.0.1.0/24
      availability_zone: us-east-1a
      map_public_ip_on_launch: true
    - name: private-subnet-1
      cidr_block: 10.0.10.0/24
      availability_zone: us-east-1a
      map_public_ip_on_launch: false

  # EC2 instance defaults
  instance_defaults:
    ami: ami-0c55b159cbfafe1f0  # Ubuntu 22.04 LTS (example)
    instance_type: t3.medium
    key_name: k8s-cluster-key
    monitoring: true
    ebs_optimized: true
    root_volume:
      volume_type: gp3
      volume_size: 30
      delete_on_termination: true

  # Security group configuration
  security_groups:
    - name: k8s-cluster-sg
      description: Security group for Kubernetes cluster
      ingress_rules:
        - protocol: tcp
          from_port: 22
          to_port: 22
          cidr_blocks: ["0.0.0.0/0"]
        - protocol: tcp
          from_port: 6443
          to_port: 6443
          cidr_blocks: ["0.0.0.0/0"]

  # Tags
  tags:
    Environment: "{{ .Environment }}"
    ManagedBy: terraform
    Project: kubernetes-cluster
